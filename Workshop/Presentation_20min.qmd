---
title: "Student Assessment and Data Science"
format: 
    revealjs: 
      echo: true
      theme: default
filters:
   - include-code-files
---
# Welcome 




# Basic Examples 

## Asking for a number 

![](images/num_moodle.png)  

## Asking for a word answer 

![](images/string_moodle.png) 

## Single Choice 

![](images/schoice_moodle1.png){height=300}
![](images/schoice_moodle2.png){height=300}

## Multiple Choice 

![](images/mchoice_moodle.png) 

# More Complex Examples

## Additional possible features: 

- combine several types of questions 
- include photos/diagrams 
- include links and data 
- tables 
- ... 

## 

![](images/first_steps_euro.png)

## 

![](images/adv1_moodle1.png)

# How are these exercises created? 

- Use a packge for R called `r/exams`
- Developed for automatic and individualized creation of exams 
- Certain elements vary for each student 

# How does it work? 

- One R markdown file per question
  - Consists of "fixed" building blocks 
  - Content is defined by the user 
- The `exams2moodle()` function allows conversion from an .Rmd file to XML 
- XML files are imported into BOKUlearn 



## Basic concept 

![](images/graph_rexams.png) 

# Deep dive 



## Data Generation 

```{r data generation, echo = TRUE} 
library(exams) #exams package needs to be loaded for all functions to be available 

#atomic number of H
n_H <- 1

# Define the molar masses of hydrogen (H) and oxygen (O)
m_h <- 1.008 # molar mass of hydrogen in g/mol
m_o <- 16.00 # molar mass of oxygen in g/mol

# Calculate the molar mass of the water molecule (H2O)
m_h2o <- 2 * m_h + m_o
```

## Answer/Solution 

```{r answers/solutions, results = "hide"}
# Create lists for necessary information
answers <- list()
solutions <- list()
types <- list()
explanations <- list()
tolerances <- list()

# Define Question 1: atomic number of hydrogen
answers[[1]] <- ""  # No answer options needed for numeric questions
solutions[[1]] <- n_H
types[[1]] <- "num" #numeric
explanations[[1]] <- "The atomic number of hydrogen is $1$ because it has one proton in its nucleus."
tolerances[[1]] <- 0  # No tolerance

# Define Question 2: molar mass of water
answers[[2]] <- "" # no answer options needed for numeric questions. 
solutions[[2]] <- m_h2o
types[[2]] <- "num" 
explanations[[2]] <- "The molar mass of H2O is calculated by adding the molar masses of two hydrogen atoms and one oxygen atom."
tolerances[[2]] <- 0.5 # Allow for small rounding errors
```

## The Question Section 

```{.markdown include="examples/example_num.Rmd" start-line=36 end-line=55}
``` 

## The Solution Section 

```{.markdown include="examples/example_num.Rmd" start-line=57 end-line=64}
```

## Meta-information 

- Additional information necessary for conversion

```{.markdown include="examples/example_num.Rmd" start-line=66 end-line=81}
``` 


# `exams2moodle()`

## Important arguments and basic conversion 

- `file`: exercise file paths
- `n`: number of variants per exam 

```{r, eval = FALSE}
library(exams) 

setwd("path/to/Rmd/files") #change working directory 

exams2moodle(file = "name_of_file.Rmd", n = 10 ) #ouput: xml 
```

## How are they used in Moodle? 

![](images/questionbank.png)

---

![](images/import.png)

--- 

![](images/importformat.png)

--- 

![](images/importfile.png)

## Resources 

- [BOKU Exams Documentation](https://boku-stat.github.io/BOKU-Exams-Documentation/) 
- [Official `r/exams` documentation](https://www.r-exams.org)
